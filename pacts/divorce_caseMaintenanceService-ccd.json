{
  "provider": {
    "name": "ccd"
  },
  "consumer": {
    "name": "divorce_caseMaintenanceService"
  },
  "interactions": [
    {
      "description": "A Read For Citizen is requested",
      "request": {
        "method": "GET",
        "path": "/caseworkers/123456/jurisdictions/DIVORCE/case-types/DIVORCE/cases/2000",
        "headers": {
          "Authorization": "Bearer UserAuthToken",
          "ServiceAuthorization": "ServiceToken",
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "header": {
            "Content-Type": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "application/json"
                }
              ],
              "combine": "AND"
            }
          }
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "__/_];charset=UTF-8"
        },
        "body": "{\"data\":{\"outsideUKGrantCopies\":6,\"applicationType\":\"Personal\",\"deceasedAddress\":{\"AddressLine2\":\"Westeros\",\"AddressLine1\":\"Winterfell\",\"PostTown\":\"London\",\"PostCode\":\"SW17 0QT\"},\"deceasedAnyOtherNames\":\"Yes\",\"primaryApplicantAddressFound\":\"Yes\",\"deceasedAnyChildren\":\"No\",\"uploadDocumentUrl\":\"http://document-management/document/12345\",\"deceasedDateOfBirth\":\"1930-01-01\",\"willHasCodicils\":\"Yes\",\"deceasedMartialStatus\":\"divorcedCivilPartnership\",\"primaryApplicantEmailAddress\":\"emailAddress@email.com\",\"deceasedAddressFound\":\"Yes\",\"primaryApplicantRelationshipToDeceased\":\"adoptedChild\",\"deceasedDateOfDeath\":\"2018-01-01\",\"primaryApplicantForenames\":\"Jon\",\"deceasedHasAssetsOutsideUK\":\"Yes\",\"applicationSubmittedDate\":\"2018-05-17\",\"primaryApplicantAddress\":{\"AddressLine2\":\"St. Georges Hospital\",\"AddressLine1\":\"Pret a Manger\",\"PostTown\":\"London\",\"PostCode\":\"SW17 0QT\"},\"deceasedDivorcedInEnglandOrWales\":\"No\",\"primaryApplicantPhoneNumber\":\"123455678\",\"ihtNetValue\":\"100000\",\"ihtReferenceNumber\":\"GOT123456\",\"deceasedSpouseNotApplyingReason\":\"other\",\"deceasedMarriedAfterWillOrCodicilDate\":\"No\",\"childrenDied\":\"No\",\"deceasedSurname\":\"Stark\",\"softStop\":\"No\",\"deceasedAliasNameList\":[{\"value\":{\"Forenames\":\"King\",\"LastName\":\"North\"}},{\"value\":{\"Forenames\":\"King\",\"LastName\":\"North\"}}],\"extraCopiesOfGrant\":3,\"numberOfExecutors\":3,\"deceasedOtherChildren\":\"Yes\",\"deceasedForenames\":\"Ned\",\"willNumberOfCodicils\":1,\"declaration\":{\"confirm\":\"We confirm that we will administer the estate of Suki Hammond, according to law. We will:\",\"confirmItem1\":\"collect the whole estate\",\"confirmItem2\":\"keep full details (an inventory) of the estate\",\"understand\":\"We understand that:\",\"requests\":\"If the probate registry (court) asks us to do so, we will:\",\"confirmItem3\":\"keep a full account of how the estate has been administered\",\"requestsItem1\":\"provide the full details of the estate and how it has been administered\",\"understandItem2\":\"criminal proceedings for fraud may be brought against us if we are found to have been deliberately untruthful or dishonest\",\"accept\":\"I confirm that I will administer the estate of the person who died according to law, and that my application is truthful.\",\"requestsItem2\":\"return the grant of probate to the court\",\"understandItem1\":\"our application will be rejected if we do not answer any questions about the information we have given\"},\"numberOfApplicants\":2,\"primaryApplicantAdoptionInEnglandOrWales\":\"Yes\",\"assetsOverseasNetValue\":\"10050\",\"grandChildrenSurvivedUnderEighteen\":\"No\",\"ihtFormCompletedOnline\":\"No\",\"ihtGrossValue\":\"100000\",\"totalFee\":\"0\",\"registryLocation\":\"Oxford\",\"ihtFormId\":\"IHT205\",\"primaryApplicantSurname\":\"Snow\",\"declarationCheckbox\":\"Yes\",\"childrenOverEighteenSurvived\":\"Yes\",\"willLatestCodicilHasDate\":\"No\",\"legalStatement\":{\"deceasedEstateValue\":\"The gross value for the estate amounts to &pound;2222 and the net value for the estate amounts to &pound;222.\",\"executorsNotApplying\":[{\"value\":{\"executor\":\"Burton Leonard, an executor named in the will or codicils, is not making this application because they died before Suki Hammond died.\"}}],\"executorsApplying\":[{\"value\":{\"name\":\"Jon Snow, an executor named in the will or codicils, is applying for probate.\",\"sign\":\"Jon Snow will sign and send to the probate registry what they believe to be the true and original last will and testament and any codicils of Ned Stark.\"}},{\"value\":{\"name\":\"Jon Snow, an executor named in the will or codicils, is applying for probate.\",\"sign\":\"Jon Snow will sign and send to the probate registry what they believe to be the true and original last will and testament and any codicils of Ned Stark.\"}}],\"deceased\":\"Ned Stark was born on 6 October 1902 and died on 22 December 1983, domiciled in England and Wales.\",\"deceasedEstateLand\":\"To the best of our knowledge, information and belief, there was no land vested in Suki Hammond which was settled previously to the death (and not by the will) of Suki Hammond and which remained settled land notwithstanding such death.\",\"deceasedOtherNames\":\"They were also known as King North.\",\"intro\":\"This statement is based on the information you&rsquo;ve given in your application. It will be stored as a public record.\",\"applicant\":\"We, Jon Snow of place make the following statement:\"}},\"case_type\":\"AwaitingDecreeNisi\",\"id\":\"2000\",\"state\":\"CaseCreated\"}",
        "matchingRules": {
          "header": {
            "Content-Type": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "\\w+\\/[-+.\\w]+;charset=(utf|UTF)-8"
                }
              ],
              "combine": "AND"
            }
          },
          "body": {
            "$.id": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.state": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Draft|PaAppCreated|CaseCreated"
                }
              ],
              "combine": "AND"
            },
            "$.data.outsideUKGrantCopies": {
              "matchers": [
                {
                  "match": "number"
                },
                {
                  "match": "number"
                }
              ],
              "combine": "AND"
            },
            "$.data.applicationSubmittedDate": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "^((19|2[0-9])[0-9]{2})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantForenames": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantSurname": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantAddressFound": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantPhoneNumber": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[0-9]+"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantRelationshipToDeceased": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "partner|child|sibling|partner|parent|adoptedChild|other"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantAdoptionInEnglandOrWales": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "(Yes|No)"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantAddress.AddressLine1": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantAddress.AddressLine2": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantAddress.PostTown": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.primaryApplicantAddress.PostCode": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedForenames": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedSurname": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedDateOfBirth": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "^((19|2[0-9])[0-9]{2})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedDateOfDeath": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "^((19|2[0-9])[0-9]{2})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAddress.AddressLine1": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAddress.AddressLine2": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAddress.PostTown": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAddress.PostCode": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAddressFound": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAnyOtherNames": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAliasNameList": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAliasNameList[*].value.Forenames": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAliasNameList[*].value.LastName": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedMartialStatus": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "marriedCivilPartnership|divorcedCivilPartnership|widowed|judicially|neverMarried"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedMarriedAfterWillOrCodicilDate": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedDivorcedInEnglandOrWales": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedSpouseNotApplyingReason": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "renunciated|mentallyIncapable|other"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedOtherChildren": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.childrenOverEighteenSurvived": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.childrenDied": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.grandChildrenSurvivedUnderEighteen": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedAnyChildren": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                },
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.deceasedHasAssetsOutsideUK": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.ihtFormId": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "IHT205|IHT207|IHT400421"
                }
              ],
              "combine": "AND"
            },
            "$.data.ihtFormCompletedOnline": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.assetsOverseasNetValue": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.ihtGrossValue": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.ihtNetValue": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.ihtReferenceNumber": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declarationCheckbox": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.extraCopiesOfGrant": {
              "matchers": [
                {
                  "match": "number"
                }
              ],
              "combine": "AND"
            },
            "$.data.uploadDocumentUrl": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.registryLocation": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Oxford|Manchester|Birmingham|Leeds|Liverpool|Brighton|Cardiff|London|Winchester|Newcastle|ctsc"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.accept": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.confirm": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.confirmItem1": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.confirmItem2": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.confirmItem3": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.requests": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.requestsItem1": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.requestsItem2": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.understand": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.understandItem1": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.declaration.understandItem2": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.applicant": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.deceased": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.deceasedEstateLand": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.deceasedEstateValue": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.deceasedOtherNames": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.executorsApplying": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.executorsApplying[*].value.name": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.executorsApplying[*].value.sign": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.executorsNotApplying": {
              "matchers": [
                {
                  "match": "type",
                  "min": 0
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.executorsNotApplying[*].value.executor": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.legalStatement.intro": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.numberOfApplicants": {
              "matchers": [
                {
                  "match": "number"
                }
              ],
              "combine": "AND"
            },
            "$.data.numberOfExecutors": {
              "matchers": [
                {
                  "match": "number"
                }
              ],
              "combine": "AND"
            },
            "$.data.softStop": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.totalFee": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            },
            "$.data.willHasCodicils": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.willLatestCodicilHasDate": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "Yes|No"
                }
              ],
              "combine": "AND"
            },
            "$.data.willNumberOfCodicils": {
              "matchers": [
                {
                  "match": "number"
                }
              ],
              "combine": "AND"
            }
          }
        },
        "generators": {
          "body": {
            "$.data.deceasedMartialStatus": {
              "type": "Regex",
              "regex": "marriedCivilPartnership|divorcedCivilPartnership|widowed|judicially|neverMarried"
            },
            "$.data.deceasedSpouseNotApplyingReason": {
              "type": "Regex",
              "regex": "renunciated|mentallyIncapable|other"
            }
          }
        }
      },
      "providerStates": [
        {
          "name": "A Read For Citizen is  requested"
        }
      ]
    },
    {
      "description": "a request for a valid start event",
      "request": {
        "method": "GET",
        "path": "/citizens/123456/jurisdictions/DIVORCE/case-types/DIVORCE/cases/654321/event-triggers/create/token",
        "headers": {
          "Authorization": "Bearer UserAuthToken",
          "ServiceAuthorization": "ServiceToken"
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "_60B0_/6]]]]]];charset=UTF-8"
        },
        "body": "{\"event_id\":\"create\",\"token\":\"123234543456\"}",
        "matchingRules": {
          "header": {
            "Content-Type": {
              "matchers": [
                {
                  "match": "regex",
                  "regex": "\\w+\\/[-+.\\w]+;charset=(utf|UTF)-8"
                }
              ],
              "combine": "AND"
            }
          },
          "body": {
            "$.token": {
              "matchers": [
                {
                  "match": "type"
                }
              ],
              "combine": "AND"
            }
          }
        }
      },
      "providerStates": [
        {
          "name": "A start request for citizen is requested"
        }
      ]
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "3.0.0"
    },
    "pact-jvm": {
      "version": "4.1.7"
    }
  }
}
